
<div class="flex flex-col h-full">
  <div class="flex-1 overflow-y-auto p-4 space-y-2 bg-gray-100">


     @for (msg of messages; track msg.output[0].content) {
       <div #chatContainer class="p-3 rounded-lg shadow"
            [ngClass]="{
              'bg-blue-100 text-left': msg.from != 'user',
              'text-right': msg.from == 'user'
            }">
         <app-output-panel [responseData]="msg.output"></app-output-panel>
       </div>
     }
   
        @if (loader) {
  <div class="flex justify-end">
  <button type="button" class="bg-indigo-500 text-white font-bold py-2 px-4 rounded flex items-center" disabled>
    <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" />
      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
    </svg>
    Processingâ€¦
  </button>
</div>
   } 


  </div>


  <div class="border-t bg-white p-3 flex items-center space-x-2">
    <input
      type="text"
      [(ngModel)]="newMessage"
      class="flex-1 border rounded-full px-4 py-2"
      placeholder="Type your message..."
    />
    <button
      class="bg-blue-600 text-white px-4 py-2 rounded-full"
      (click)="sendMessage()"
    >
      Send
    </button>
  </div>
</div>

